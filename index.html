<!Doctype>
<html>
   <head>
      <title>Neighbourhood visiting  Map</title>
      <!--using knockout.js framework gor data binding-->
      <script src="js\knockout.js"></script>
      <!--The initial-scale=1.0 part sets the initial zoom level when the page is first loaded by the browser.-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <link rel="stylesheet" href="css/style.css">
      <!--using css for styling.-->
      <!--google fonts api 's-->

   </head>
   <body>
<div class="container-fluid">
  <div id="mySidenav" class="sidenav">
    <a href="#" class="closebtn" onclick="closeNav()">&#9776;</a>
    <a href="#" onclick="toggleHeatmap()">HeatMap</a>
    <a href="#"  onclick="changeGradient()">Gradient</a>
    <a href="#"  onclick="changeRadius()">Radius</a>
    <a href="#"  onclick="changeOpacity()">Opacity</a>
    <input type="text" class="form-control" placeholder="enter the place" data-bind="value: inputText, valueUpdate: 'afterkeydown', event: {keyup: filtersearch}">
    <br>
    <div class="List">
      <ul data-bind="foreach:locations">
         <!--data-bind so when location searched it shows only specific location.-->
         <li class="list" data-bind="visible:show, event:{click:$parent.selectAll}">
            <a data-bind="text:title"></a>
         </li>
      </ul>
    </div>

  </div>
<div class="row">
  <div class="col-md-12 heading">
<span class="left" onclick="openNav()">☰</span><span>LUDHIANA</span>
  </div>

</div>
<div class="row">
  <div class="col-md-12">
<div id="map">

</div>
  </div>
</div>
      </div>
      <script>
         <!--initialized a map variable -->
             var map;
             function initMap() {
                 // for creating  a new map - only center and zoom are needed.
                 map = new google.maps.Map(document.getElementById('map'), {
                     center: {
                         lat: 30.9010,
                         lng: 75.8573,
                     },
                     zoom: 15,
					 gestureHandling: 'greedy',
           styles: [
    {
        "featureType": "all",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "saturation": 36
            },
            {
                "color": "#000000"
            },
            {
                "lightness": 40
            }
        ]
    },
    {
        "featureType": "all",
        "elementType": "labels.text.stroke",
        "stylers": [
            {
                "visibility": "on"
            },
            {
                "color": "#000000"
            },
            {
                "lightness": 16
            }
        ]
    },
    {
        "featureType": "all",
        "elementType": "labels.icon",
        "stylers": [
            {
                "visibility": "off"
            }
        ]
    },
    {
        "featureType": "administrative",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 20
            }
        ]
    },
    {
        "featureType": "administrative",
        "elementType": "geometry.stroke",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 17
            },
            {
                "weight": 1.2
            }
        ]
    },
    {
        "featureType": "landscape",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 20
            }
        ]
    },
    {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 21
            }
        ]
    },
    {
        "featureType": "road.highway",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 17
            }
        ]
    },
    {
        "featureType": "road.highway",
        "elementType": "geometry.stroke",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 29
            },
            {
                "weight": 0.2
            }
        ]
    },
    {
        "featureType": "road.arterial",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 18
            }
        ]
    },
    {
        "featureType": "road.local",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 16
            }
        ]
    },
    {
        "featureType": "transit",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 19
            }
        ]
    },
    {
        "featureType": "water",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#000000"
            },
            {
                "lightness": 17
            }
        ]
    }
]
         });
		   heatmap = new google.maps.visualization.HeatmapLayer({
          data: getPoints(),
          map: map
        });
		 var trafficLayer = new google.maps.TrafficLayer();
  trafficLayer.setMap(map);

         //the browser doesn’t know what it means, you need to activate Knockout by doing following things(ko.applyBindings).
                 ko.applyBindings(new viewmodel2());
             }
             function mistakes()
             {
               alert("error in opening page or a map");
             }

// Nav Bar functions 
             function openNav() {
    document.getElementById("mySidenav").style.width = "350px";
}

function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
}
      </script>
      <script defer src="js\app.js"></script>
      <script defer src="js\jquery.min.js"></script>
      <!--to activate google map on your site by following link and applying generating key. -->
      <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBxCXv5fFDr_hhUavihFr9R4uVz5pb9ePw&libraries=visualization&callback=initMap" onerror="mistakes()">
         //google api
      </script>
   </body>
</html>
